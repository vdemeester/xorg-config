#!/bin/sh
#
# Quake-like terminal emulator using yeahconsole & urxvt
#
command -v yeahconsole >/dev/null || {
    echo "${basename $0}: yeahconsole command not found." 1>&2
    exit 1
}

# First, make sur xrdb has read the resources
if test -e $HOME/.Xdefaults; then
    xrdb -load .Xdefaults
fi

# Run screen, tmux (or tmx if present) or just the shell
CMD=$SHELL
command -v screen >/dev/null && {
    CMD="screen"
}
command -v tmux >/dev/null && {
    CMD="tmux"
}
if test -x $HOME/bin/tmx; then
    CMD="tmx default"
fi
yeahconsole -e $CMD
